<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  
  <style>
    #canvas{

      background-color: blue;
    }


  </style>


</head>


<body>

<canvas id="canvas"></canvas>


</body>
<script>

  // Obtener el elemento canvas
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

// Establecer el tamaño del canvas
canvas.width = 640;
canvas.height = 480;

// Definir el personaje
const personaje = {
  x: 100,
  y: 100,
  ancho: 50,
  alto: 50,
  velocidad: 5
};

// Definir la cámara
const camara = {
  x: 0,
  y: 0,
  ancho: canvas.width,
  alto: canvas.height
};

// Variables para controlar el movimiento
let teclaDerecha = false;
let teclaIzquierda = false;
let teclaArriba = false;
let teclaAbajo = false;

// Eventos para controlar el movimiento
document.addEventListener('keydown', (e) => {
  switch (e.key) {
    case 'ArrowRight':
      teclaDerecha = true;
      break;
    case 'ArrowLeft':
      teclaIzquierda = true;
      break;
    case 'ArrowUp':
      teclaArriba = true;
      break;
    case 'ArrowDown':
      teclaAbajo = true;
      break;
  }
});

document.addEventListener('keyup', (e) => {
  switch (e.key) {
    case 'ArrowRight':
      teclaDerecha = false;
      break;
    case 'ArrowLeft':
      teclaIzquierda = false;
      break;
    case 'ArrowUp':
      teclaArriba = false;
      break;
    case 'ArrowDown':
      teclaAbajo = false;
      break;
  }
});

// Dibujar el personaje
function dibujarPersonaje() {
  ctx.fillStyle = 'red';
  ctx.fillRect(personaje.x - camara.x, personaje.y - camara.y, personaje.ancho, personaje.alto);
}

// Actualizar la posición del personaje
function actualizarPersonaje() {
  if (teclaDerecha) {
    personaje.x += personaje.velocidad;
  }
  if (teclaIzquierda) {
    personaje.x -= personaje.velocidad;
  }
  if (teclaArriba) {
    personaje.y -= personaje.velocidad;
  }
  if (teclaAbajo) {
    personaje.y += personaje.velocidad;
  }
}

// Actualizar la posición de la cámara
function actualizarCamara() {
  camara.x = personaje.x - camara.ancho / 2;
  camara.y = personaje.y - camara.alto / 2;
}

// Bucle principal
function loop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  actualizarPersonaje();
  actualizarCamara();
  dibujarPersonaje();
  requestAnimationFrame(loop);
}



// Iniciar el bucle principal
loop();



</script>
</html>